{% extends "layout.html" %}

{% block title %}
    Transaction history
{% endblock %}

{% block main %}

        <!-- Tables to user's transaction history -->
        {% if history %}
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Operation</th>
                    <th>Company</th>
                    <th>Amount</th>
                    <th>Value</th>
                    <th>Balance before</th>
                    <th>Balance after</th>
                </tr>
            </thead>
            <tbody>
                <!-- Separate row for each record from history -->
                {% for record in history %}
                <tr>
                    <td>{{ history[loop.index-1]["date"] }}</td>
                    <td>{{ history[loop.index-1]["type"].upper() }}</td>
                    <td>{{ history[loop.index-1]["symbol"] }}</td>
                    <td>{{ history[loop.index-1]["shares"] }}</td>
                    <td>{{ "$%.2f"|format(history[loop.index-1]["total_value"]) }}</td>
                    <td>{{ "$%.2f"|format(history[loop.index-1]["balance_before"]) }}</td>
                    <td>{{ "$%.2f"|format(history[loop.index-1]["balance_after"]) }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p></p>
        <p>There is not any record in your transaction history yet.</p>
        <p></p>
        {% endif %}

{% endblock %}
